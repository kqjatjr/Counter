<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Counter</title>
    <link rel="stylesheet" type="text/css" href="./css/countcss.css" />
  </head>
  <body>
    <div id="counter"></div>
    <div id="counter2"></div>
    <div id="counter3"></div>
    <script type="text/javascript">
      class Counter {
        constructor(id, initialValue = 0) {
          this.id = id;
          this.count = 0;
          this.$counter = document.querySelector(this.id);
          this.initialRender();
          this.$display = this.$counter.querySelector(
            ".counter_counter-display",
          );
          this.setCount(initialValue);
          const $addBtn = this.$counter.querySelector(".counter_counter-add");
          const $subBtn = this.$counter.querySelector(".counter_counter-sub");
          $addBtn.addEventListener("click", () => {
            this.onClickAdd();
          });
          $subBtn.addEventListener("click", () => {
            this.onClickSub();
          });
        }
        setCount(count) {
          this.count = count;
          this.render();
        }
        onClickAdd() {
          this.setCount(this.count + 1);
        }
        onClickSub() {
          this.setCount(this.count - 1);
        }
        initialRender() {
          this.$counter.innerHTML = `
          <div class="counter">
            <button class="counter_counter-add">+</button>
              <div class="counter_counter-display">${this.count}</div>
            <button class="counter_counter-sub">-</button
          <div>
        `;
        }
        render() {
          this.$display.innerHTML = this.count;
        }
      }
      const counter1 = new Counter("#counter", 30);
      const counter2 = new Counter("#counter2", 20);
      const counter3 = new Counter("#counter3", 2000);
    </script>
  </body>
</html>
